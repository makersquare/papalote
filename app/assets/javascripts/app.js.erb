// This is the main Angular application page.
// The Config function is run before the injector and before the RUN function
//  The run function is run after the config function.
//  An example of this is the config provides a route while the run function
// provides user authentication for the routes.


var app = angular.module('mksDriveApp',
  ['ngResource', 'ngRoute', 'ngAnimate', 'flow']);

app.config(['$routeProvider', function($routeProvider){

  $routeProvider.when('/', {
    templateUrl: "<%= asset_path('templates/test.html') %>",
    controller: "TestCtrl"
  })
  .when('/docs/new', {
    templateUrl: "<%= asset_path('templates/doc-view.html') %>",
    controller: "DocNewController"
  })
  .when('/docs/:id', {
    templateUrl: "<%= asset_path('templates/doc-view.html') %>",
    controller: "DocController"
  })
  .when('/test', {
    templateUrl: "<%= asset_path('templates/test-upload.html.erb') %>",
    controller: "UploadController"
  })
  .otherwise({
    redirectTo: '/'
  })

}]);

// app.config(['flowFactoryProvider', function(flowFactoryProvider){
//   flowFactoryProvider.defaults = {
//     target: '/upload',
//     permanentErrors: [404, 500, 501]
//   };
// }])